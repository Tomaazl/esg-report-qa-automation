## ESG Answer Ranker

Suggest ESG answer candidates for questionnaire questions with simple scoring, using an existing JSON answer base generated by `pdf-qa-generator`.

### Install

No external dependencies. Requires Python 3.9+.

### Usage

```python
from esg_answer_ranker import ESGAnswerRanker

questions = [
    "Do you track Scope 1 and Scope 2 emissions?",
    "What are your targets for net zero?",
]

ranker = ESGAnswerRanker(qa_pairs_path="/workspace/pdf-qa-generator/output/qa_pairs.json")
ranked = ranker.rank_answer_candidates(questions, top_k=3)

for q, candidates in zip(questions, ranked):
    print(q)
    for text, score in candidates:
        print(" -", score, text)
```

Or run the example:

```bash
python example_esg_ranking.py
```

### API

- `ESGAnswerRanker(qa_pairs_path: str | None)`
- `ESGAnswerRanker.rank_answer_candidates_for_question(question: str, top_k: int = 3) -> List[Tuple[str, float]]`
- `ESGAnswerRanker.rank_answer_candidates(questions: Sequence[str], top_k: int = 3) -> List[List[Tuple[str, float]]]`

Returns tuples of `(answer_text, score)` sorted by descending score.

### Notes

- The model uses keyword overlap plus surface text similarity (difflib). It is simple by design and dependency-free. Answers are sourced from `/workspace/pdf-qa-generator/output/qa_pairs.json` (or a custom path you pass via `qa_pairs_path`).

<!-- The earlier TF-IDF retriever documentation was removed to avoid confusion. -->